# shares
Kanivets Alexander project

## Запуск сервиса

Для того чтобы запустить сервис неободимо удостовериться в наличии Java 8, создать пустую базу данных на локальной машине и подключить её к проекту в application.properties и hibernate.cfg.xml. Таблицы в базе данных будут сгенерированны автоматически при запуске приложения.

## Проверка работоспособности

Работу сервиса можно проверить используя Swagger. http://localhost:8080/swagger-ui.html#/
Ограничение доступа к контроллерам требующим аутентификации было закомментированно для удобства проверки работоспособности. При необходимости можно раcкомментировать необходимый код в следующих файлах: MethodSecurityConfig, pom.xml, метод createUser и анотации @PreFilter в SharesController.  

## Контроллер и его функционал

POST /shares позволяет создать entity. Для создания требуеться JSON следующего вида: 
{
  "amount": 123,
  "authorizedFundSize": 123,
  "codeEDRPOU": 123,
  "comment": "string",
  "faceValue": 123,
  "paidStateDuty": 123,
  "releaseDate": "2019-12-11T10:10:57.540Z"
}

PUT /shares/{id} позволяет обновить данные entity. Для обновления требуется передать id и JSON вида аналогичного созданию.

DELETE /shares/{id} позволяет удалить данные entity. Для удаления требуется передать id.

GET /shares/private/{id} и GET /shares/public/{id} позволяют получить данные одной entity в приватном и публичном виде. Для получения требуется передать id.

GET /shares/public/all позволяет получить данные всех entity в публичном виде с использованием пагинации.

GET /shares/private/all/audit позволяет получить данные всех entity в приватном виде с учетом полного аудита всех изменений и использованием пагинации.

GET /shares/search/private/{codeERDPOU} позволяет получить все entity с соответствующим кодом ЄРДПОУ в приватном виде.

GET /shares/search/public/{codeERDPOU} позволяет получить все entity с соответствующим кодом ЄРДПОУ в публичном виде.

